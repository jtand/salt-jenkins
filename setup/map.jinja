{# Map file to allow for platform agnostic state files #}
{# --------------------------------------------------- #}
{# ca-certificates-mozilla map #}
{% set ca_certificates_mozilla = salt['grains.filter_by']({
    'default': {
        'name': 'ca-certificates-mozilla',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.latest'
        }
    },
    default='default')
%}

{# curl map #}
{% set curl = salt['grains.filter_by']({
    'default': {
        'name': 'curl',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.installed'
        },
    'rhel_5': {
        'name': 'curl',
        'version': '',
        'requires': {'require': {'pkg': 'openssl'}},
        'includes': {'include': ['openssl']},
        'install_method': 'pkg.installed'
        },
    'arch': {
        'name': 'openssl',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.latest'
        },
    'opensuse': {
        'name': 'curl',
        'version': '',
        'requires': {'require': [{'pkg': 'ca-certificates-mozilla'}]},
        'includes': {'include': ['ca-certificates-mozilla']},
        'install_method': 'pkg.installed'
        },
    'gentoo': {
        'name': 'net-misc/curl',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.installed'
        }
    },
    merge=salt['pillar.get']('curl:lookup'), default='default')
%}

{# npm map #}

{% set npm = salt['grains.filter_by']({
    'default': {
        'name': 'npm',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.installed'
        },
    'opensuse': {
        'name': 'nodejs',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.installed'
        },
    'freebsd': {
        'name': 'www/npm',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.installed'
        },
    'macos': {
        'name': 'node',
        'version': '',
        'requires': '',
        'includes': '',
        'install_method': 'pkg.installed'
        }
    },
    merge=salt['pillar.get']('curl:lookup'), default='default')
%}





